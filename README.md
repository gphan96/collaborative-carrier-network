# CCN

CCN is an application presenting an auction based Collaborative Carrier Network. It is designed exclusively for small 
and medium sized carriers and harnesses the power of global optimization to deliver economically efficient solutions to
every participant in the network. In addition, carriers incur much lower costs than traditional negotiation processes.

## Table of contents

1. [Features](#features)
2. [Download](#download)
3. [Logs](#logs)
4. [User manual](#user-manual)
   - [Registration](#registration)
   - [Login as carrier](#login-as-carrier)
   - [Login as auctioneer](#login-as-auctioneer)
   - [Auction process](#auction-process)


## Features

- Optimize the profit of daily "pickup and delivery" transport business for all participated carriers
- Support the reassignment of transport requests, that assure an increase in profit
- An auction-based solution is used to support privacy of agents
- A graphical use interface is available to support the analytical view of solutions

## Download

Download the source code as zip file from [Gitlab](https://collaborating.tuhh.de/e16/courses/software-development/ss22/group04_coop/collaborative-carrier-network).
Unzip the downloaded file and click on _CCN.jar_ to start the application.

![Download instruction](src/main/resources/download.png?raw=true "download-instruction")

## Logs
When starting the application, logs are documented in the log file created for the current date. Log files are located
in the directory _logs_ and their names indicate which date are the logs referring to.

## User manual

### Registration

To register a carrier agent, choose _Register_ in the start window. Fill out the registration form, then click on the
_Register_ button at the bottom. Here are notations on some fields in the registration form:

- **Transport requests**: Tranport requests are enclosed in <> and separated by commas. Each request is of the form
_((x1,y1),(x2,y2))_, where _(x1,y1)_ is the coordinate of the pickup point and _(x2,y2)_ is of the delivery point.
Coordinates can be negative or contain a decimal point.
- **Base rate A**: Base rate to reach the pickup point. The input has to be positive and can have up to two decimal digits.
- **Base rate B**: Base rate for loading/unloading. The input has to be positive and can have up to two decimal digits.
- **Price**: Price for 1 km. The input has to be positive and can have up to two decimal digits.
- **Internal rate**: Internal rate for 1 km. The input has to be positive and can have up to two decimal digits.
- **Depot latitude/longitude**: Coordinate where the carriers start their tour. Inputs can be negative and contain
a decimal point.

### Login as carrier

To login as a carrier agent, choose _Login_ in the start window. Enter a valid username/password, then click on the
_Login_ button at the bottom. After logging in successfully, two windows will appear.

One window contains a table of all transport requests of the logged in carrier. Column _Price_ shows the price the 
carrier has to pay if the corresponding transport request was won in an auction. In the next auction process, the prices
of the old transport requests will be set back to 0. Below the table is a revenue report displaying:

- **Total cost**: Cost that a carrier has to pay for delivering all requests on a tour
- **Total earning**: Earning that a carrier will get from shippers after delivering all requests
- **Total revenue**: Total amount of income generated by delivering all requests
- **Total profit**: Sum of profit of all transport requests a carrier own

User can set the minimum profit of transport requests to be bid or maximum profit of transport requests to be auctioned 
off by entering a price in the field _Min. profit to bid_ or _Max. profit to auction off_ respectively. To logout, click
on the [X]-Button in the top-right corner.

The other window visualizes the old tour before the auction process on the left panel and the new tour after the auction
process on the right panel. Below the graphs are the corresponding coordinates of the tour. _[Depot]_ indicates the 
start/end point, _[Pickup]_ is the pickup location and _[Delivery]_ is the delivery location.

### Login as auctioneer

To login as an auctioneer, choose _Login_ in the start window. Enter **auctioneer** as username <ins>and</ins> password, 
then click on the _Login_ button at the bottom. After logging in, the auction process will start automatically. To
monitor the auction process, please refer to the log file of the current date.

### Auction process

The auctioneer calculates the profit of each transport requests for all carriers and decides which request to auction
off based on the value set in _Max. profit to auction off_ by carriers. The auctioneer then forms possible bundles from
transport requests that were sent to auction and carriers can bid for these bundles. The bid is calculated based on the
value set in _Min. profit to bid_ by carriers. Finally, the auctioneer computes the best distribution of bundles to
carriers. The implemented auction mechanism is vickery auction.

> <b>Note</b>: Want to know more about how bundles are generated and distributed? Click [here](Bundle.md).


